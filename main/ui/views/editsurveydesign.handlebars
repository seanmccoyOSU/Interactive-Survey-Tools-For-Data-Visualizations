<h1>Editing Survey Design "{{name}}"</h1>
<a class="new-button" href="/">go home</a>
<br><br>

<h2>Questions</h2>
    {{#each questions}}
        {{> questionListItem}}
    {{/each}}
    <p>{{questionError}}</p>
<form action="/surveyDesigns/{{id}}/questions" method="POST">
    <button class="add-question-button">+ Add</button>
</form>
<br>

<form action="/surveyDesigns/{{id}}/PATCH" method="POST">
    <h2>Survey Details</h2>
    <h3>Survey Title</h3>
    <p>This is the title that is visible to participants.</p>
    <input type="text" id="title" name="title" value="{{title}}">

    <h3>Introduction Text</h3>
    <p>This is the text the participant sees before starting the survey.</p>
    <textarea type="text" id="introText" name="introText" rows="4" cols="50">{{introText}}</textarea>

    <h3>Conclusion Text</h3>
    <p>This is the text the participant sees after completing the survey.</p>
    <textarea type="text" id="conclusionText" name="conclusionText" rows="4" cols="50">{{conclusionText}}</textarea>

    <br>
    <br>
    <button class="save-survey-button">Save Changes</button>
</form>

<br>
<a class="new-button" href="#publishSurveyPopup">Publish</a>

<!-- popup windows -->

<!-- some HTML referenced from https://www.geeksforgeeks.org/how-to-create-popup-box-using-html-and-css/ section "Using Display Property"-->
<div class="popup" id="publishSurveyPopup">
    <div class="popup-content">
        <h2>Publish your survey</h2>
        <form action="/surveyDesigns/{{id}}/publishedSurveys" method="POST">
            
            <label for="openDateTime">Open time: </label>
            <input type="datetime-local" id="openDateTime" name="openDateTime" value="{{today}}"/>

            <label for="closeDateTime">Close time: </label>
            <input type="datetime-local" id="closeDateTime" name="closeDateTime" value="{{tomorrow}}"/>

            <label for="name">Name: </label>
            <input type="text" name="name" placeholder="survey name" value="{{name}}">

            <button class="popup-create-button" id="publish-survey-button">Publish</button>
        </form>
        <a class="popup-cancel-button" href="#">Cancel</a>
    </div>
</div>

