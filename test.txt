# not normally included in source control

FROM node:22
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 5000
CMD ["npm", "run", "dev-main"]

# main API
ENV MAIN_API_PORT=5050
ENV MAIN_API_URL=http://34.127.111.114:5050

# main UI
ENV MAIN_UI_PORT=5000
ENV MAIN_UI_URL=http://34.127.111.114:5000

# main database
ENV MYSQL_DATABASE=visualsurvey
ENV MYSQL_USER=visualsurvey
ENV MYSQL_HOST=34.127.111.114
ENV MYSQL_PORT=3306

# visualization engine API
ENV VISUAL_API_PORT=8080
ENV VISUAL_API_URL=http://34.127.111.114:8080

# visualization engine UI
ENV VISUAL_UI_PORT=8000
ENV VISUAL_UI_URL=http://34.127.111.114:8000

# visualization engine database
ENV MYSQL_DATABASE_VE=visualization
ENV MYSQL_USER_VE=visualization
ENV MYSQL_HOST_VE=34.127.111.114
ENV MYSQL_PORT_VE=3308

# Yes these are highly insecure, but including this file at all is highly insecure
ENV MYSQL_PASSWORD=password     
ENV SECRET_KEY=SecretKey        